import{d as q,b as y,o as D,c as i,C as e,a as b,t as d,G as h,F as _,I as w,V as B}from"./chunks/framework.09b837aa.js";const x="/vp-blog/assets/05.ee8394df.png",S={key:0},R=["src"],P={key:1},k=["src"],V=q({__name:"Base64",setup(m){const t=y(""),C=y(""),A=y(""),u=y("");async function g(p){const s=p.target.files[0],o=performance.now();t.value=await f(s);const l=performance.now();C.value=`${l-o} ms`;const n=performance.now();A.value=await E(s);const a=performance.now();u.value=`${a-n} ms`}async function f(p){return new Promise(s=>{const o=new FileReader;o.addEventListener("load",function(){typeof this.result=="string"&&s(this.result)}),o.readAsDataURL(p)})}async function E(p){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=await p.arrayBuffer(),l=new Uint8Array(o);let n="",a=0,v=Math.floor(l.length/3)*3;for(;a<v;){let F=l[a]<<16|l[a+1]<<8|l[a+2];n+=s[F>>18],n+=s[F>>12&63],n+=s[F>>6&63],n+=s[F&63],a+=3}const r=l.length-a;if(r===0)return"data:image/png;base64,"+n;let c=l[a]<<16;return r===2&&(c|=l[a+1]<<8),n+=s[c>>18],n+=s[c>>12&63],r===2?(n+=s[c>>6&63],n+="="):r===1&&(n+="=="),"data:image/png;base64,"+n}return(p,s)=>(D(),i(_,null,[e("input",{type:"file",accept:"image/*",onChange:g},null,32),t.value?(D(),i("p",S,[b(" 耗时："+d(C.value)+" ",1),e("img",{src:t.value,width:"200",height:"200",alt:""},null,8,R)])):h("",!0),A.value?(D(),i("p",P,[b(" 耗时："+d(u.value)+" ",1),e("img",{src:A.value,width:"200",height:"200",alt:""},null,8,k)])):h("",!0)],64))}}),T=e("h2",{id:"playground",tabindex:"-1"},[b("Playground "),e("a",{class:"header-anchor",href:"#playground","aria-label":'Permalink to "Playground"'},"​")],-1),N=e("p",null,"你可以先在下方区域体验一下功能，它会分别以原生和我自己定义的编码函数将选择的图片编码。",-1),U=B("",31),I=JSON.parse('{"title":"手写 base64 编码","description":"通过手写 base64 编码，了解为什么编码后会增加三分之一大小","frontmatter":{"title":"手写 base64 编码","description":"通过手写 base64 编码，了解为什么编码后会增加三分之一大小","date":"2023-05-10T06:04:54.000Z","tags":["算法","Javascript"],"layout":"post","cover":{"image":"/vp-blog/covers/js.png"}},"headers":[],"relativePath":"docs/posts/base64.md","filePath":"docs/posts/base64.md","lastUpdated":1685027079000}'),L={name:"docs/posts/base64.md"},J=Object.assign(L,{setup(m){return(t,C)=>(D(),i("div",null,[T,N,w(V),U]))}});export{I as __pageData,J as default};
